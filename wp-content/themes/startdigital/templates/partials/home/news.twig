{% set news_posts = fn('get_news_posts', 6) %}

<section id="news-scene-wrapper"
	class="flex flex-col justify-center !py-0 relative z-40 text-navy dark-mouse dark-header">
	<div id="news-scene" class="sticky top-0 left-0 h-lvh w-full"></div>
	<div id="news-scroller" class="sticky -mt-[100lvh] top-0 pointer-events-none h-lvh left-0 w-full z-[45] dark-mouse">
		<div class="w-full h-dvh flex flex-row justify-center sm:justify-between items-end py-6 md:py-8 xl:py-12 md:px-8 2xl:px-12 px-4">
			<div class="relative">
				<div data-project-slider class="absolute aspect-3/4 h-[120%] -translate-x-[9%] -translate-y-[9%] z-10">
					<div class="rounded-tl-sm border-l border-t size-2 border-paragraphDark absolute top-0 left-0"></div>
					<div class="rounded-tr-sm border-r border-t size-2 border-paragraphDark absolute top-0 right-0"></div>
					<div class="rounded-br-sm border-r border-b size-2 border-paragraphDark absolute bottom-0 right-0"></div>
					<div class="rounded-bl-sm border-l border-b size-2 border-paragraphDark absolute bottom-0 left-0"></div>
				</div>
				{% include 'icons/mask.twig' with {
					id: 'project-mask'
				} %}
				<div class="relative flex flex-row-reverse w-full gap-1">
					{% for news in news_posts %}
						<div data-project-thumb="{{ loop.index0 }}"
							class="aspect-3/4 overflow-hidden relative h-[54px]"
							style="clip-path: url(#project-mask);">
							<img src="{{ get_image(news.thumbnail) }}"
								alt=""
								class="absolute top-0 left-0 object-cover w-full h-full" />
						</div>
					{% endfor %}
				</div>
			</div>
			{% include 'partials/button.twig' with {
				title: 'View all articles',
				link: '/projects',
				target: '_self',
				class: 'dark pointer-events-auto max-sm:hidden border-button'
			} %}
		</div>
	</div>
	<section class="-mt-[100lvh]">
		<div class="container flex flex-col relative z-40 gap-20 w-full">
			<div class="block-content relative w-full items-center text-center split-text-trigger">
				<div class="supertitle-wrapper supertitle text-paragraphDark flex flex-row items-center gap-2">
					<div class="size-2.5 bg-paragraphDark blink"></div>Whats been happening
				</div>
				{{ post.news.title }}
				<div class="block-content max-w-[400px] 2xl:max-w-[600px] text-paragraphDark text-pretty">
					{{ post.news.content }}
				</div>
			</div>
		</div>
	</section>
	<div id="news-scroller-container" class="pointer-events-none h-[90lvh] mb-[20lvh] lg:mb-[30lvh]"></div>
	<div class="flex-col gap-8 hidden pointer-events-none">
		{% for news in news_posts %}
			{% include 'partials/posts/post-tease.twig' with {
				news: news
			} %}
		{% endfor %}
	</div>
</section>
