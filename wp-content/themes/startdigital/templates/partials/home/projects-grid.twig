{% set length = post.projects.projects|length %}

<section id="project-grid" class="text-white relative">
    <div class="sticky top-0 left-0 w-full h-lvh flex flex-col justify-center z-50 pointer-events-none">
        <div class="container project-text-container flex flex-col items-center relative z-40">
            <div class="flex flex-col items-center gap-4 sm:gap-8 lg:gap-16 relative z-40 w-fit">
                <div class="project-title lg:text-center relative">
                    {{ post.projects.title }}
                    <h6 class="is-superscript absolute left-full top-1/4 w-fit whitespace-nowrap">
                        (
                        {{ length }}
                        )
                    </h6>
                </div>
            </div>
        </div>
    </div>
    <div class="container w-full xl:w-[90%] 4xl:w-[80%] flex flex-col relative z-40 gap-16">
        {% for project in post.projects.projects %}
            <a href="{{ project.link }}" id="project-container-{{ loop.index }}" class="project-container flex flex-col gap-4 -mt-[0%]">
                <div class="image-container w-full aspect-3/4 relative">
                    <img src="{{ get_image(project.project_thumbnail) }}" alt="Image of the project {{ project.title }}" class="sr-only" />
                </div>
                <div class="flex flex-col gap-1">
                    <h4 project-grid-title class="is-h5">
                        {{ project.title }}
                    </h4>
                    {% if project.terms('project-type')[0] %}
                        <div class="2xl:text-xl flex flex-col">
                            <p project-grid-title class="">
                                (
                                {{ project.terms('project-type')[0].name }}
                                )
                            </p>
                        </div>
                    {% endif %}
                </div>
            </a>
        {% endfor %}
        <div class="h-lvh"></div>
    </div>
    <div class="container flex flex-col items-center relative z-40">
        {% include "partials/big-button.twig" with { title: 'All Projects', link: '/projects', class: 'text-white' } %}
    </div>
</section>
